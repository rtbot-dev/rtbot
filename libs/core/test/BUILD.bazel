load("@rules_cc//cc:defs.bzl", "cc_test")

cc_test(
    name = "test",
    srcs = glob([
        "**/*.cpp",
        "**/*.h",
    ]),
    #defines = ["CATCH_CONFIG_MAIN"],
    deps = [
        "//libs/core:rtbot",
        "@catch2",
    ] + select({
        "//:enable_telemetry": [
            "@io_opentelemetry_cpp//api",
            "@io_opentelemetry_cpp//exporters/otlp:otlp_file_exporter",
            "@io_opentelemetry_cpp//sdk/src/trace",
        ],
        "//conditions:default": [],
    }),
)
